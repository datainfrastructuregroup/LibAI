---
layout: base.njk
---

<article class="note">
    <header>
        <h1>{{ title }}</h1>
        <div class="meta">
            <a href="{{ "/notes" | url }}" class="back-link">‚Üê Back to all notes</a>
        </div>
        
        {% if authors or contributors or editors %}
        <div class="note-byline">
            {% if authors %}
            <div class="byline-section">
                <span class="byline-label">Written by:</span>
                <span class="byline-content">
                    {% for author in authors %}
                        {% set authorName = author | replace("[[", "") | replace("]]", "") %}
                        {% set authorPage = collections.all | getEntryByUrl("/notes/" + authorName + "/") %}
                        {% if authorPage %}
                            <a href="{{ "/notes/" | url }}{{ authorName | slugify }}/">{{ authorPage.data.title }}</a>{% if not loop.last %}, {% endif %}
                        {% else %}
                            <a href="{{ "/notes/" | url }}{{ authorName | slugify }}/">{{ authorName }}</a>{% if not loop.last %}, {% endif %}
                        {% endif %}
                    {% endfor %}
                </span>
            </div>
            {% endif %}
            
            {% if contributors %}
            <div class="byline-section">
                <span class="byline-label">Additional contributions by:</span>
                <span class="byline-content">
                    {% for contributor in contributors %}
                        {% set contributorName = contributor | replace("[[", "") | replace("]]", "") %}
                        {% set contributorPage = collections.all | getEntryByUrl("/notes/" + contributorName + "/") %}
                        {% if contributorPage %}
                            <a href="{{ "/notes/" | url }}{{ contributorName | slugify }}/">{{ contributorPage.data.title }}</a>{% if not loop.last %}, {% endif %}
                        {% else %}
                            <a href="{{ "/notes/" | url }}{{ contributorName | slugify }}/">{{ contributorName }}</a>{% if not loop.last %}, {% endif %}
                        {% endif %}
                    {% endfor %}
                </span>
            </div>
            {% endif %}
            
            {% if editors %}
            <div class="byline-section">
                <span class="byline-label">Edited by:</span>
                <span class="byline-content">
                    {% for editor in editors %}
                        {% set editorName = editor | replace("[[", "") | replace("]]", "") %}
                        {% set editorPage = collections.all | getEntryByUrl("/notes/" + editorName + "/") %}
                        {% if editorPage %}
                            <a href="{{ "/notes/" | url }}{{ editorName | slugify }}/">{{ editorPage.data.title }}</a>{% if not loop.last %}, {% endif %}
                        {% else %}
                            <a href="{{ "/notes/" | url }}{{ editorName | slugify }}/">{{ editorName }}</a>{% if not loop.last %}, {% endif %}
                        {% endif %}
                    {% endfor %}
                </span>
            </div>
            {% endif %}
        </div>
        {% endif %}
    </header>
    
    <div class="content">
        {{ content | safe }}
    </div>
    
    <!-- Works Cited Section - Added by citations plugin -->
    {% if referencesByPage and referencesByPage[page.url] %}
    <section class="works-cited">
        <h2>Works Cited</h2>
        {% for reference in referencesByPage[page.url] %}
            <p>{{ reference.entry | safe }}</p>
        {% endfor %}
    </section>
    {% endif %}
    
    {% set backlinks = collections.all | getBacklinks(page) %}
    {% if backlinks.length > 0 %}
    <aside class="backlinks">
        <h2>Backlinks</h2>
        <ul>
            {% for backlink in backlinks %}
            <li><a href="{{ backlink.url }}">{{ backlink.data.title | default(backlink.fileSlug) }}</a></li>
            {% endfor %}
        </ul>
    </aside>
    {% endif %}
    

</article>
